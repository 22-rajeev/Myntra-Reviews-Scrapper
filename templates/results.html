{% extends 'base.html' %}

{% block title %}Results{% endblock %}

{% block body %}
<nav class="navbar custom-navbar">
  <div class="navbar-inner">
    <!-- Brand -->
    <a class="navbar-logo-text" href="{{ url_for('index') }}">
      Myntra Reviews Scraper
    </a>

    <!-- Actions -->
    <div class="navbar-actions">
      <button class="btn-primary">Contact</button>

      {% if rows %}
      <a href="{{ url_for('download') }}" class="btn btn-success ms-3">
        ⬇️ Download CSV
      </a>
      {% endif %}
    </div>
  </div>
</nav>

<div class="container py-5">
  <h1 class="text-center mb-4 animate__animated animate__fadeIn gradient-text">Results</h1>

  {% if error %}
  <div style="background-color:#ffe5e5; color:#a30000; padding:12px; border-radius:8px; margin-bottom:16px; text-align:center; font-weight:bold;">
    ⚠️ {{ error }}
  </div>
  {% elif not rows %}
  <div style="background-color:#f0f0f0; color:#555; padding:12px; border-radius:8px; margin-bottom:16px; text-align:center;">
    No results yet. Please enter a query.
  </div>
  {% endif %}
  
  {% if rows %}
  <div class="table-responsive animate__animated animate__fadeInUp">
    <table class="table table-hover table-bordered align-middle shadow-sm rounded-3 overflow-hidden">
      <thead class="table-dark">
        <tr>
          {% for title in titles %}
            <th class="text-uppercase">{{ title }}</th>
          {% endfor %}
        </tr>
      </thead>
      <tbody>
        {% for review in rows %}
        <tr class="fade-row">
          {% for data in review %}
            <td>{{ data }}</td>
          {% endfor %}
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  {% endif %}
</div>
{% endblock %}